
{% macro load_navigation(user=none) %}
{% if user %}
    <header>
        <header>
            <div class="header-flex">
              <h1 class="site-title">–¢–µ—Ö–§–æ—Ä—É–º</h1>
              <button id="theme-toggle" title="–°–º–µ–Ω–∏ —Ç–µ–º–∞">üåì</button>
            </div>
            <nav>
              <ul>
                <li><a href="/home">–ù–∞—á–∞–ª–æ</a></li>
                <li><a href="/categories">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a></li>

                {% if user.key.is_admin==1 %}
                <li><a href="/admin">–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª</a></li>
                {% endif %}

                <a href="/users/profile" class="view-profile-button">
                  <img src="/static/images/profile_view.jpg" alt="Profile" class="profile-pic">
                  –ü—Ä–æ—Ñ–∏–ª
                </a>
              </ul>
            </nav>
        </header>
    </header>
{% else %}
    <header>
        <header>
            <div class="header-flex">
              <h1 class="site-title">–¢–µ—Ö–§–æ—Ä—É–º</h1>
              <button id="theme-toggle" title="–°–º–µ–Ω–∏ —Ç–µ–º–∞">üåì</button>
            </div>
            <nav>
              <ul>
                <li><a href="/home">–ù–∞—á–∞–ª–æ</a></li>
                <li><a href="/categories">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a></li>
                <li><a href="/users/login">–í—Ö–æ–¥</a></li>
                <li><a href="/users/register">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a></li>
              </ul>
            </nav>
        </header>
    </header>
{% endif %}
{% endmacro %}

{% macro load_privacy() %}
<div id="cookieBanner" class="cookie-banner">
  <p><strong>–ù–∏–µ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ –±–∏—Å–∫–≤–∏—Ç–∫–∏!</strong><br>
    –¢–æ–∑–∏ —É–µ–±—Å–∞–π—Ç –∏–∑–ø–æ–ª–∑–≤–∞ –±–∏—Å–∫–≤–∏—Ç–∫–∏ –∑–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ –∏ –ø–æ–¥–æ–±—Ä—è–≤–∞–Ω–µ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–æ—Ç–æ –∏–∑–∂–∏–≤—è–≤–∞–Ω–µ.
    –ó–∞ –ø–æ–≤–µ—á–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–æ—á–µ—Ç–∏ –Ω–∞—à–∞—Ç–∞ <a href=/policy>–ü–æ–ª–∏—Ç–∏–∫–∞ –∑–∞ –ø–æ–≤–µ—Ä–∏—Ç–µ–ª–Ω–æ—Å—Ç</a>.
  </p>
  <div class="cookie-buttons">
    <button id="acceptCookies">–ü—Ä–∏–µ–º–∞–º</button>
    <button id="settingsCookies">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
  </div>
</div>

<!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–Ω–µ—Ä -->
<div id="cookieSettingsBanner" class="cookie-banner" style="display: none;">
  <p><strong>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ –±–∏—Å–∫–≤–∏—Ç–∫–∏—Ç–µ</strong></p>
  <form id="cookieSettingsForm">
    <div class="cookie-setting-option">
      <input type="checkbox" name="auth" checked disabled>
      <label for="auth">–ó–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∏ –±–∏—Å–∫–≤–∏—Ç–∫–∏ (–∞–≤—Ç–µ–Ω—Ç–∏–∫–∞—Ü–∏—è)</label>
    </div>
    <div class="cookie-buttons">
      <button type="button" id="saveSettings">–ó–∞–ø–∞–∑–∏</button>
    </div>
  </form>
</div>

<script>
  window.addEventListener('load', () => {
    const cookieBanner = document.getElementById('cookieBanner');
    const settingsBanner = document.getElementById('cookieSettingsBanner');

    if (!localStorage.getItem('cookiesAccepted')) {
      cookieBanner.style.display = 'block';
    }

    document.getElementById('acceptCookies').onclick = () => {
      localStorage.setItem('cookiesAccepted', 'yes');
      cookieBanner.style.display = 'none';
    };

    document.getElementById('settingsCookies').onclick = () => {
      cookieBanner.style.display = 'none';
      settingsBanner.style.display = 'block';
    };

    document.getElementById('saveSettings').onclick = () => {
      localStorage.setItem('cookiesAccepted', 'yes');
      settingsBanner.style.display = 'none';
    };
  });
</script>
{% endmacro %}


{% macro custom_msg(msg=none) %}
    {% if msg %}
        {{ msg }}
    {% endif %}
{% endmacro %}



{% macro load_footer(user=none) %}
    {% if user %}
        <a href="/logout" style="float: right;">
            <button type="button">–ò–∑—Ö–æ–¥</button>
        </a>
    {% endif %}
{% endmacro %}
